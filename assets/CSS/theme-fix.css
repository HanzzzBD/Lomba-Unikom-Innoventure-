/* ===== THEME FIXES FOR SMKN 4 BANDUNG ===== */

/* ===== CSS VARIABLES DEFAULT (LIGHT MODE) ===== */
:root {
    --bg-primary: #ffffff;
    --bg-secondary: #f8fafc;
    --bg-tertiary: #f1f5f9;
    --text-primary: #0f172a;
    --text-secondary: #334155;
    --text-muted: #64748b;
    --border-color: #e2e8f0;
    --shadow-color: rgba(0, 0, 0, 0.1);
    --bg-gradient: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(248, 250, 252, 0.1));
}

/* ===== BODY BACKGROUND FIX ===== */
body {
    background-color: var(--bg-primary);
    color: var(--text-primary);
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* ===== LIGHT MODE STYLES ===== */
body[data-theme="light"] {
    --bg-primary: #ffffff;
    --bg-secondary: #f8fafc;
    --bg-tertiary: #f1f5f9;
    --text-primary: #0f172a;
    --text-secondary: #334155;
    --text-muted: #64748b;
    --border-color: #e2e8f0;
    --shadow-color: rgba(0, 0, 0, 0.1);
    --bg-gradient: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(248, 250, 252, 0.1));
}

/* Light mode background fixes */
body[data-theme="light"] .bg-white {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

body[data-theme="light"] .bg-gray-50 {
    background-color: var(--bg-secondary) !important;
}

/* Light mode text colors */
body[data-theme="light"] .text-gray-900 {
    color: var(--text-primary) !important;
}

body[data-theme="light"] .text-gray-600 {
    color: var(--text-secondary) !important;
}

body[data-theme="light"] .text-gray-400 {
    color: var(--text-muted) !important;
}

/* Light mode border colors */
body[data-theme="light"] .border-gray-100 {
    border-color: var(--border-color) !important;
}

body[data-theme="light"] .border-gray-800 {
    border-color: #374151 !important;
}

body[data-theme="light"] .border-black\/20 {
    border-color: rgba(0, 0, 0, 0.1) !important;
}

/* Light mode background colors */
body[data-theme="light"] .bg-blue-50 {
    background-color: rgba(219, 234, 254, 0.8) !important;
}

body[data-theme="light"] .bg-purple-50 {
    background-color: rgba(243, 232, 255, 0.8) !important;
}

body[data-theme="light"] .bg-blue-100 {
    background-color: rgba(191, 219, 254, 0.8) !important;
}

body[data-theme="light"] .bg-purple-100 {
    background-color: rgba(233, 213, 255, 0.8) !important;
}

body[data-theme="light"] .bg-gray-900 {
    background-color: #111827 !important;
}

body[data-theme="light"] .bg-black\/10 {
    background-color: rgba(0, 0, 0, 0.05) !important;
}

/* Light mode gradient backgrounds */
body[data-theme="light"] .bg-gradient-to-br.from-blue-100.to-purple-100 {
    background: linear-gradient(135deg, rgba(219, 234, 254, 0.8) 0%, rgba(243, 232, 255, 0.8) 100%) !important;
}

body[data-theme="light"] .bg-gradient-to-br.from-purple-100.to-blue-100 {
    background: linear-gradient(135deg, rgba(243, 232, 255, 0.8) 0%, rgba(219, 234, 254, 0.8) 100%) !important;
}

/* Light mode navigation enhancements */
body[data-theme="light"] .navbar-liquid-container {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(248, 250, 252, 0.1)) !important;
    border-color: rgba(226, 232, 240, 0.3) !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1) !important;
}

body[data-theme="light"] .navbar-liquid-container:hover {
    border-color: rgba(226, 232, 240, 0.5) !important;
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15) !important;
}

body[data-theme="light"] .brand-liquid-container:hover {
    background: rgba(226, 232, 240, 0.2) !important;
    border-color: rgba(226, 232, 240, 0.4) !important;
}

body[data-theme="light"] .nav-links-liquid-container {
    border-color: rgba(226, 232, 240, 0.2) !important;
}

body[data-theme="light"] .liquid-nav-link:hover {
    background: rgba(226, 232, 240, 0.2) !important;
    color: #3b82f6 !important;
}

body[data-theme="light"] .liquid-nav-link.active {
    background: rgba(59, 130, 246, 0.2) !important;
    color: #3b82f6 !important;
}

/* Light mode group styling */
body[data-theme="light"] .group {
    background-color: var(--bg-secondary) !important;
    border-color: var(--border-color) !important;
}

body[data-theme="light"] .group:hover {
    background-color: rgba(241, 245, 249, 0.8) !important;
    border-color: rgba(226, 232, 240, 0.5) !important;
}

/* Light mode shadows */
body[data-theme="light"] .shadow-lg {
    box-shadow: 0 10px 15px -3px var(--shadow-color) !important;
}

body[data-theme="light"] .shadow-xl {
    box-shadow: 0 20px 25px -5px var(--shadow-color) !important;
}

/* ===== DARK MODE STYLES ===== */
body[data-theme="dark"] {
    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --bg-tertiary: #334155;
    --text-primary: #f8fafc;
    --text-secondary: #cbd5e1;
    --text-muted: #94a3b8;
    --border-color: #475569;
    --shadow-color: rgba(0, 0, 0, 0.5);
    --bg-gradient: linear-gradient(135deg, rgba(15, 23, 42, 0.2), rgba(30, 41, 59, 0.1));
}

/* ===== SMOOTH TRANSITIONS ===== */
* {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

/* ===== DARK MODE REFINEMENTS (fix belang-belang) ===== */
/* Override white utility backgrounds to dark glass on dark mode */
body[data-theme="dark"] .bg-white { background-color: #1f2937 !important; color: #f8fafc !important; }
body[data-theme="dark"] .bg-white\/80 { background-color: rgba(15, 23, 42, 0.8) !important; }
body[data-theme="dark"] .bg-white\/70 { background-color: rgba(15, 23, 42, 0.7) !important; }
body[data-theme="dark"] .bg-white\/60 { background-color: rgba(15, 23, 42, 0.6) !important; }
body[data-theme="dark"] .bg-white\/50 { background-color: rgba(15, 23, 42, 0.5) !important; }
body[data-theme="dark"] .bg-white\/40 { background-color: rgba(15, 23, 42, 0.4) !important; }
body[data-theme="dark"] .border-white\/50 { border-color: rgba(148, 163, 184, 0.25) !important; }

/* Text tweaks for dark mode */
body[data-theme="dark"] .text-gray-900 { color: #f8fafc !important; }
body[data-theme="dark"] .text-gray-700 { color: #e2e8f0 !important; }
body[data-theme="dark"] .text-gray-600 { color: #cbd5e1 !important; }
body[data-theme="dark"] .text-slate-900 { color: #f8fafc !important; }
body[data-theme="dark"] .text-slate-700 { color: #cbd5e1 !important; }

/* Footer social icons - better hover colors in dark */
body[data-theme="dark"] footer .flex.space-x-4 a:hover {
    background-color: #ffffff !important;
    color: #0f172a !important;
}
body[data-theme="dark"] footer .flex.space-x-4 a { color: #f8fafc !important; }
/* Ensure TikTok icon remains visible on hover in dark */
body[data-theme="dark"] footer a:hover .fab.fa-tiktok { color: #000000 !important; }

/* ===== FASILITAS: Photo Stack Cards (Uiverse.io by Sharkotech - adapted) ===== */
.photo-stack {
    position: relative;
    top: 4px;
    width: 380px;
    height: 160px;
    margin: 0 auto;
}

.photo-stack .card {
    top: 4px;
    width: 380px;
    height: 160px;
    position: absolute;
    cursor: pointer;
    border-radius: 14px;
    transition: transform .35s cubic-bezier(.2,.6,.2,1), box-shadow .35s ease;
    transform-origin: bottom center;
    backface-visibility: hidden;
}

/* Gambar di dalam kartu memenuhi area dengan rapi */
.photo-stack .card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: inherit;
    display: block;
}

.photo-stack .c1 { background-image: linear-gradient(160deg, rgba(59,130,246,.85), rgba(99,102,241,.85)); }
.photo-stack .c2 { background-image: linear-gradient(160deg, rgba(99,102,241,.85), rgba(168,85,247,.85)); }
.photo-stack .c3 { background-image: linear-gradient(160deg, rgba(168,85,247,.85), rgba(236,72,153,.85)); }
.photo-stack .c4 { background-image: linear-gradient(160deg, rgba(16,185,129,.85), rgba(59,130,246,.85)); }
.photo-stack .c5 { background-image: linear-gradient(160deg, rgba(34,197,94,.85), rgba(16,185,129,.85)); }
.photo-stack .c6 { background-image: linear-gradient(160deg, rgba(250,204,21,.9), rgba(234,179,8,.9)); }
.photo-stack .c7 { background-image: linear-gradient(160deg, rgba(248,113,113,.9), rgba(239,68,68,.9)); }
.photo-stack .c8 { background-image: linear-gradient(160deg, rgba(96,165,250,.85), rgba(14,165,233,.85)); }
.photo-stack .c9 { background-image: linear-gradient(160deg, rgba(129,140,248,.85), rgba(99,102,241,.85)); }
.photo-stack .c10 { background-image: linear-gradient(160deg, rgba(236,72,153,.85), rgba(244,114,182,.85)); }

.photo-stack .c1 { z-index: 1; }
.photo-stack .c2 { z-index: 2; }
.photo-stack .c3 { z-index: 3; }
.photo-stack .c4 { z-index: 4; }
.photo-stack .c5 { z-index: 5; }
.photo-stack .c6 { z-index: 6; }
.photo-stack .c7 { z-index: 7; }
.photo-stack .c8 { z-index: 8; }
.photo-stack .c9 { z-index: 9; }
.photo-stack .c10 { z-index: 10; }

.photo-stack:hover .c1 { transform: translateX(-90px) rotate(-26deg); }
.photo-stack:hover .c2 { transform: translateX(-72px) rotate(-22deg); }
.photo-stack:hover .c3 { transform: translateX(-54px) rotate(-18deg); }
.photo-stack:hover .c4 { transform: translateX(-36px) rotate(-14deg); }
.photo-stack:hover .c5 { transform: translateX(-18px) rotate(-10deg); }
.photo-stack:hover .c6 { transform: translateX(0) rotate(-6deg); }
.photo-stack:hover .c7 { transform: translateX(18px) rotate(-2deg); }
.photo-stack:hover .c8 { transform: translateX(36px) rotate(2deg); }
.photo-stack:hover .c9 { transform: translateX(54px) rotate(6deg); }
.photo-stack:hover .c10 { transform: translateX(72px) rotate(10deg); }

/* Enable the same spread state via a class (for mobile tap) */
.photo-stack.is-active .c1 { transform: translateX(-90px) rotate(-26deg); }
.photo-stack.is-active .c2 { transform: translateX(-72px) rotate(-22deg); }
.photo-stack.is-active .c3 { transform: translateX(-54px) rotate(-18deg); }
.photo-stack.is-active .c4 { transform: translateX(-36px) rotate(-14deg); }
.photo-stack.is-active .c5 { transform: translateX(-18px) rotate(-10deg); }
.photo-stack.is-active .c6 { transform: translateX(0) rotate(-6deg); }
.photo-stack.is-active .c7 { transform: translateX(18px) rotate(-2deg); }
.photo-stack.is-active .c8 { transform: translateX(36px) rotate(2deg); }
.photo-stack.is-active .c9 { transform: translateX(54px) rotate(6deg); }
.photo-stack.is-active .c10 { transform: translateX(72px) rotate(10deg); }

.photo-stack .c1:hover { transform: translateX(-120px) rotate(0deg) !important; }
.photo-stack .c2:hover { transform: translateX(-100px) rotate(0deg) !important; }
.photo-stack .c3:hover { transform: translateX(-80px) rotate(0deg) !important; }
.photo-stack .c4:hover { transform: translateX(-60px) rotate(0deg) !important; }
.photo-stack .c5:hover { transform: translateX(-40px) rotate(0deg) !important; }
.photo-stack .c6:hover { transform: translateX(-20px) rotate(0deg) !important; }
.photo-stack .c7:hover { transform: translateX(0) rotate(0deg) !important; }
.photo-stack .c8:hover { transform: translateX(20px) rotate(0deg) !important; }
.photo-stack .c9:hover { transform: translateX(40px) rotate(0deg) !important; }
.photo-stack .c10:hover { transform: translateX(60px) rotate(0deg) !important; }

/* Helper to center the stack within its container if needed */
.facility-image { display: grid; place-items: center; }

/* Pastikan animasi tidak terpotong oleh container grid/card */
#fasilitas .facility-card { position: relative; z-index: 1; overflow: visible; }
#fasilitas .facility-image { overflow: visible; height: 300px; }
#fasilitas .facility-card:hover { z-index: 30; }

/* Hilangkan efek scale default agar tidak bentrok dengan animasi stack */
#fasilitas .facility-card:hover .facility-image { transform: none !important; }

/* ===== LIGHTBOX STYLES ===== */
.photo-lightbox.hidden { display: none; }
.photo-lightbox {
    position: fixed;
    inset: 0;
    z-index: 9999;
}
.photo-lightbox__backdrop {
    position: absolute;
    inset: 0;

    backdrop-filter: blur(4px);
}
.photo-lightbox__content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-width: 92vw;
    max-height: 88vh;

    border-radius: 16px;
    box-shadow: 0 20px 60px rgba(0,0,0,.5);
    overflow: hidden;
}
.photo-lightbox__img {
    display: block;
    max-width: 92vw;
    max-height: 80vh;
    object-fit: contain;
}
.photo-lightbox__caption {
    padding: 10px 14px;
    color: #e5e7eb;
    font-weight: 600;
    text-align: center;
}
.photo-lightbox__close {
    position: absolute;
    top: 6px;
    right: 8px;
    width: 36px;
    height: 36px;
    border-radius: 9999px;
    background: rgba(255,255,255,.15);
    color: #fff;
    font-size: 22px;
    line-height: 1;
    border: none;
    cursor: pointer;
}
.photo-lightbox__close:hover {
    background: rgba(255,255,255,.25);
}

/* ===== GALLERY STYLES (Read More) ===== */
.photo-gallery.hidden { display: none; }
.photo-gallery { position: fixed; inset: 0; z-index: 9998; }
.photo-gallery__backdrop { position: absolute; inset: 0; background: rgba(0,0,0,.6); backdrop-filter: blur(3px); }
.photo-gallery__content {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    width: min(1100px, 92vw); max-height: 90vh; overflow: auto;
    background: rgba(255,255,255,.95); border-radius: 16px; box-shadow: 0 20px 60px rgba(0,0,0,.5);
}
.photo-gallery__header { display: flex; align-items: center; justify-content: space-between; padding: 14px 18px; border-bottom: 1px solid rgba(0,0,0,.08); }
.photo-gallery__title { font-size: 1.125rem; font-weight: 700; color: #0f172a; }
.photo-gallery__close { background: transparent; border: none; font-size: 26px; line-height: 1; cursor: pointer; color: #0f172a; }
.photo-gallery__meta { padding: 8px 18px; color: #475569; font-size: .9rem; }
.photo-gallery__grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 12px; padding: 14px 18px 18px;
}
.photo-gallery__item { border-radius: 10px; overflow: hidden; background: #f1f5f9; cursor: zoom-in; }
.photo-gallery__item img { width: 100%; height: 140px; object-fit: cover; display: block; }